---
title: 各种问题解决答案汇总
tags:
  - java
  - mysql
  - vue
  - linux
categories: 技术
description: 各种疑难杂症的解决方法，例如数据库的备份和还原（整库）、linux之间传文件、java打包后获取resource文件
toc_number: false
abbrlink: 14263
date: 2021-04-13 17:37:36
---
<!--more-->
<p style="margin-left:50px;">目录</p>

<p id="mysql添加字段并且设置默认值-toc" style="margin-left:50px;"><a href="#mysql添加字段并且设置默认值">1、mysql添加字段并且设置默认值</a></p>

<p id="一键部署工具-toc" style="margin-left:50px;"><a href="#一键部署工具">2、一键部署工具</a></p>

<p id="MySQL命令行导出数据库表-toc" style="margin-left:50px;"><a href="#MySQL命令行导出数据库表">3、MySQL命令行导出数据库表</a></p>

<p id="vuevue导出word-toc" style="margin-left:50px;"><a href="#vuevue导出word">4、vue导出word</a></p>

<p id="Failed to convert value of type 'java.lang.String' to required type 'java.util.Date';-toc" style="margin-left:50px;"><a href="#Failed to convert value of type 'java.lang.String' to required type 'java.util.Date';">5、Failed to convert value of type 'java.lang.String' to required type 'java.util.Date';</a></p>

<p id="jsonArray中按某字段排序-toc" style="margin-left:50px;"><a href="#jsonArray中按某字段排序">6、jsonArray中按某字段排序</a></p>

<p id="articleContentId-toc" style="margin-left:50px;"><a href="#articleContentId">7、关于element ui里的多选反选表格的问题（toggleRowSelection）</a></p>

<p id="真正有效解决ONLY_FULL_GROUP_BY的问题-toc" style="margin-left:50px;"><a href="#真正有效解决ONLY_FULL_GROUP_BY的问题">8、真正有效解决ONLY_FULL_GROUP_BY的问题</a></p>

<p id="java遍历map-toc" style="margin-left:50px;"><a href="#java遍历map">9、java遍历map</a></p>

<p id="es时间范围小于等于查询-toc" style="margin-left:50px;"><a href="#es时间范围小于等于查询">10、es时间范围小于等于查询</a></p>

<p id="es模糊查询-toc" style="margin-left:50px;"><a href="#es模糊查询">11、es模糊查询</a></p>

<p id="判断字符串是否包含中文（也可以说是否为纯英文）-toc" style="margin-left:50px;"><a href="#判断字符串是否包含中文（也可以说是否为纯英文）">12、判断字符串是否包含中文（也可以说是否为纯英文）</a></p>

<p id="mysql创建只读用户读取指定数据表-toc" style="margin-left:50px;"><a href="#mysql创建只读用户读取指定数据表">13、mysql创建只读用户读取指定数据表 </a></p>

<p id="linux查看IP端口是否连通-toc" style="margin-left:50px;"><a href="#linux查看IP端口是否连通">14、linux查看IP端口是否连通</a></p>

<p id="数据库的备份和还原（整库）-toc" style="margin-left:50px;"><a href="#数据库的备份和还原（整库）">15、数据库的备份和还原（整库） </a></p>

<p id="java打包后获取resource文件，并转成流-toc" style="margin-left:50px;"><a href="#java打包后获取resource文件，并转成流">16、 java打包后获取resource文件，并转成流</a></p>

<p id="linux之间传文件-toc" style="margin-left:50px;"><a href="#linux之间传文件">17、linux之间传文件 </a></p>

<p id="vim 转换为 Unix 换行-toc" style="margin-left:50px;"><a href="#vim 转换为 Unix 换行">18、vim 转换为 Unix 换行</a></p>

<p>2021-04-13</p>

<h3 id="mysql添加字段并且设置默认值">1、mysql添加字段并且设置默认值</h3>

{% code %}
alter table t_acceptance_fund add is_complete varchar(2) default '0' comment '完成状态';
{% endcode %}

<h3 id="一键部署工具">2、一键部署工具</h3>

<blockquote>
<p><a href="https://help.aliyun.com/product/29966.html?spm=a2c4g.11186623.6.540.1a9d459alu9Mnz" >帮助中心 - 阿里云</a></p>
</blockquote>

<p>2021-04-14</p>

<h3 id="MySQL命令行导出数据库表">3、MySQL命令行导出数据库表</h3>

<blockquote>
<p>1、首先进入mysql的bin文件</p>

<p>2、mysqldump -uroot -proot neu_tyjr_base t_personnel_information > C:\Users\qu\Desktop\t_personnel_information.sql</p>

{% asset_img MySQL.png %}
</blockquote>

<h3 id="vuevue导出word">4、vue导出word</h3>

<blockquote>
<p><a href="https://blog.csdn.net/github_39365750/article/details/105584133">Vue项目导出word文档_Lik1024-CSDN博客_vue导出word文档</a></p>
</blockquote>

<p>2021-04-21</p>

<h3 id="Failed to convert value of type 'java.lang.String' to required type 'java.util.Date';">5、Failed to convert value of type 'java.lang.String' to required type 'java.util.Date';</h3>

<p>局部转换</p>

{% code %}
@Controller
public class UserController{
    @RequestMapping(value="/login.do")
    public String login(String username,Date birthday){
        System.out.println("________");
        return "";
    }
    //只需要加上下面这段即可，注意不能忘记注解
    @InitBinder
    public void initBinder(WebDataBinder binder, WebRequest request) {
        //转换日期 注意这里的转化要和传进来的字符串的格式一直 如2015-9-9 就应该为yyyy-MM-dd
        DateFormat dateFormat=new SimpleDateFormat("yyyy-MM-dd HH:mm:ss");
        binder.registerCustomEditor(Date.class, new CustomDateEditor(dateFormat, true));// CustomDateEditor为自定义日期编辑器
    }
}
{% endcode %}

<p>2021-04-25</p>

<h3 id="jsonArray中按某字段排序">6、jsonArray中按某字段排序</h3>

{% code %}
    /**
     * 对json数组排序，
     * @param jsonArr
     * @param sortKey 排序关键字
     * @param is_desc is_desc-false升序列  is_desc-true降序 (排序字段为字符串)
     * @return
     */
    public static String jsonArraySort(JSONArray jsonArr,String sortKey,boolean is_desc) {
        //存放排序结果json数组
        JSONArray sortedJsonArray = new JSONArray();
        //用于排序的list
        List<JSONObject> jsonValues = new ArrayList<JSONObject>();
        //将参数json数组每一项取出，放入list
        for (int i = 0; i < jsonArr.size(); i++) {
            jsonValues.add(JSONObject.fromObject(jsonArr.getJSONObject(i)));
        }
        //快速排序，重写compare方法，完成按指定字段比较，完成排序
        Collections.sort(jsonValues, new Comparator<JSONObject>() {
            //排序字段
            private  final String KEY_NAME = sortKey;
            //重写compare方法
            @Override
            public int compare(JSONObject a, JSONObject b) {
                String valA = new String();
                String valB = new String();
                try {
                    valA = a.getString(KEY_NAME);
                    valB = b.getString(KEY_NAME);
                } catch (JSONException e) {
                    e.printStackTrace();
                }
                //是升序还是降序
                if (is_desc){
                    return -valA.compareTo(valB);
                } else {
                    return -valB.compareTo(valA);
                }
            }
        });
        //将排序后结果放入结果jsonArray
        for (int i = 0; i < jsonArr.size(); i++) {
            sortedJsonArray.add(jsonValues.get(i));
        }
        return sortedJsonArray.toString();
    }
{% endcode %}

<p>2021-04-27</p>

<h3 id="articleContentId">7、关于element ui里的多选反选表格的问题（toggleRowSelection）</h3>

<blockquote>
<p><a href="https://blog.csdn.net/weixin_44436078/article/details/107669679" >关于element ui里的多选反选表格的问题（toggleRowSelection）_小胡仙的博客-CSDN博客_element table 反选</a></p>
</blockquote>

<p>2021-04-28</p>

<h3 id="真正有效解决ONLY_FULL_GROUP_BY的问题">8、真正有效解决ONLY_FULL_GROUP_BY的问题</h3>

<blockquote>
<p><a href="https://blog.csdn.net/qq_34637782/article/details/101029487">真正有效解决ONLY_FULL_GROUP_BY的问题_索隆有几把刀的博客-CSDN博客_onlyfullgroupby意义</a></p>
</blockquote>

<p>2021-05-24</p>

<h3 id="java遍历map">9、java遍历map</h3>

{% code %}
Map<Integer, Integer> map = new HashMap<Integer, Integer>();
for (Map.Entry<Integer, Integer> entry : map.entrySet()) {
    System.out.println("Key = " + entry.getKey() + ", Value = " + entry.getValue());
}
{% endcode %}

<p>2021-05-25</p>

<h3 id="es时间范围小于等于查询">10、es时间范围小于等于查询</h3>

{% code %}
{
  "query": {
    "bool": {
      "must": [
        {
          "range": {
            "createTime": {
              "lte": "2020-12-01 00:00:00"
            }
          }
        }
      ]
    }
  }
}
{% endcode %}

<h3 id="es模糊查询">11、es模糊查询</h3>

{% code %}
{
  "query": {
    "wildcard" : { "search_word" : "*中国*" }
  }
}
{% endcode %}

<p>2021-06-27</p>

<h3 id="判断字符串是否包含中文（也可以说是否为纯英文）">12、判断字符串是否包含中文（也可以说是否为纯英文）</h3>

{% code %}
/**
 * 字符串是否包含中文
 *
 * @param str 待校验字符串
 * @return true 包含中文字符 false 不包含中文字符
 * @throws EmptyException
 */
public static boolean isContainChinese(String str) throws EmptyException {
    if (StringUtils.isEmpty(str)) {
        throw new EmptyException("sms context is empty!");
    }
    Pattern p = Pattern.compile("[\u4E00-\u9FA5|\\！|\\，|\\。|\\（|\\）|\\《|\\》|\\“|\\”|\\？|\\：|\\；|\\【|\\】]");
    Matcher m = p.matcher(str);
    return m.find();
}
{% endcode %}

<p>2021-07-14</p>

<h3 id="mysql创建只读用户读取指定数据表">13、mysql创建只读用户读取指定数据表</h3>

{% code %}
GRANT SELECT ON 表名 TO 'username'@'%' IDENTIFIED BY '';
{% endcode %}

<p>2021-12-10</p>

<h3 id="linux查看IP端口是否连通">14、linux查看IP端口是否连通</h3>

{% code %}
ssh -v -p port username@ip
{% endcode %}

<p>2021-12-16</p>

<h3 id="数据库的备份和还原（整库）">15、数据库的备份和还原（整库）</h3>

{% code %}
备份：mysqldump -uroot -proot --all-databases > /path/data.sql
还原：mysql -uroot -proot  --default-character-set=utf8 > /path/data.sql
{% endcode %}

<p>2023-06-14</p>

<h3 id="java打包后获取resource文件，并转成流">16、java打包后获取resource文件，并转成流</h3>

{% code %}
ClassLoader classLoader = QRCodeUtils(类名).class.getClassLoader();
InputStream inputStream = classLoader.getClass().getClassLoader().getResourceAsStream("weixin.png");
{% endcode %}

<h3 id="linux之间传文件">17、linux之间传文件</h3>

{% code %}
scp /home/pocean-cloud-api-zuul-server.jar root@10.1.3.208://ticket/apps/
（之后会提示输入密码）
{% endcode %}

<p>2023-06-24 </p>

<h3 id="vim 转换为 Unix 换行">18、vim 转换为 Unix 换行</h3>

{% code %}
 // 转换为 Unix 换行
 $ vim windows.sh
 :set ff=unix
 :wq
{% endcode %}

<p>持续更新......</p>